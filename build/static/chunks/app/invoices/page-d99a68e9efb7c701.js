(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5760],{75440:function(e,a,s){Promise.resolve().then(s.bind(s,25204))},25204:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return O}});var l=s(9268),n=s(86006),t=s(18160),c=s(36945),i=s(64114),o=s(48525),r=s.n(o),d=s(57658),m=s(21387),u=s(13658),x=s(34274),h=s(8399),_=s(28992),j=s(86564),b=s(75991),p=s(21530),v=s(2525),N=s(51710),w=s(95383),Z=s(14240),C=e=>{let{rows:a,handleShowMore:s,visibleRows:t,setAmountToPay:c,toggleDrawer:i,setInvoiceNumber:o,handleDownload:d}=e,[m,u]=n.useState("panel0"),x=e=>(a,s)=>{u(!!s&&e)};return console.log(a,"eiwiu"),(0,l.jsxs)("div",{children:[a.slice(0,t).map((e,a)=>(0,l.jsxs)(v.Z,{expanded:m==="panel".concat(a),onChange:x("panel".concat(a)),className:"".concat(m==="panel".concat(a)&&"bg-F7F7F8"," ").concat(r().accordian),children:[(0,l.jsx)(N.Z,{className:r().accord_summary,expandIcon:m==="panel".concat(a)?(0,l.jsx)(p.WF,{className:"mt-3 ".concat(r().exapnd_icon)}):(0,l.jsx)(p.v3,{className:r().exapnd_icon}),children:(0,l.jsxs)(Z.Z,{className:"".concat(r().tableHeaderCell),children:["Invoice Number: ",e.invoice_number]})}),(0,l.jsxs)(w.Z,{className:r().accord_details,children:[(0,l.jsxs)(Z.Z,{className:r().tableCell,children:[(0,l.jsx)("span",{className:"font-medium",children:"Invoice Date:"})," ",e.due_days]}),(0,l.jsxs)(Z.Z,{className:r().tableCell,children:[(0,l.jsx)("span",{className:"font-medium",children:"Order Number:"})," ",e.deal_code]}),(0,l.jsxs)(Z.Z,{className:r().tableCell,children:[(0,l.jsx)("span",{className:"font-medium",children:"Invoice Amount:"})," ",e.total]}),(0,l.jsxs)(Z.Z,{className:r().tableCell,children:[(0,l.jsx)("span",{className:"font-medium",children:"Amount Due:"})," ",e.balance]}),(0,l.jsxs)(Z.Z,{className:r().tableCell,children:[(0,l.jsx)("span",{className:"font-medium",children:"Status: "}),(0,l.jsx)("span",{className:"".concat("paid"===e.current_sub_status?"text-[#67AF7B]":"text-[#D96060]"),children:"paid"===e.current_sub_status?"Paid":"Payment Due"})]}),(0,l.jsxs)("div",{className:"flex gap-4 mt-1",children:[(0,l.jsx)("button",{onClick:()=>d(e.invoice_url),className:r().download_btn,children:"Download"}),(0,l.jsx)("button",{disabled:"paid"===e.current_sub_status,onClick:()=>{c(e.balance),o(e.invoice_number),i()},className:"".concat("paid"===e.current_sub_status&&"!bg-[#FFDF85] !cursor-not-allowed"," ").concat(r().pay_btn),children:"Pay now"})]})]})]},a)),t<a.length&&(0,l.jsxs)("button",{className:r().show_more_btn,onClick:s,children:["See More",(0,l.jsx)(p.wf,{className:r().down_arrow})]})]})},y=s(12513),g=s.n(y),f=s(8464),D=s(56008),k=s(24214),S=s(90490),A=s(8038),I=s(46285),F=s(69354),E=s(66628),P=s(37610),H=e=>{let{toggleDrawer:a,open:s,amountDue:t,availbal:c,isCoinApplied:i,setIsCoinApplied:o,invoiceNumber:r}=e,d=(0,D.useRouter)(),m=(0,I.pe)((0,F.$o)("_ga")),[u,x]=(0,n.useState)(!1),[h,_]=(0,n.useState)(t),j=(0,E.I0)(),b=async()=>{try{var e,a,s,l,n;let t=await k.Z.get(S.v2+A.z.profileSettingPage.getUserDetails(m)),c={email:null==t?void 0:null===(a=t.data)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.email,name:null==t?void 0:null===(l=t.data)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.full_name,customer_id:(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.data.cf_customer_id)||"CF-126402",amount:"Rs.".concat(h)};null!==r&&(c.invoice_number=r);let i=Object.keys(c).map(e=>"".concat(e,"=").concat(encodeURIComponent(c[e]))).join("&"),o="/customerpayment?".concat(i);d.push(o)}catch(e){console.log(e)}},v=e=>{window.innerWidth<768?x(!0):x(!1)};return n.useEffect(()=>(v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[]),(0,l.jsx)(f.ZP,{anchor:u?"bottom":"right",open:s,onClose:a,transitionDuration:{enter:400,exit:200},classes:{paper:g().customDrawer},children:(0,l.jsxs)("div",{className:g().main_container,children:[(0,l.jsx)("div",{className:g().close_icon,onClick:()=>{a()},children:(0,l.jsx)(p.x8,{color:"#45454A",size:24,className:"cursor-pointer"})}),(0,l.jsx)("p",{className:g().head,children:"Make Payment"}),(0,l.jsxs)("div",{className:"mt-8 md:pr-8",children:[(0,l.jsx)("p",{className:g().total_txt,children:"Total Amount Due"}),(0,l.jsx)("input",{className:g().input,value:h}),(0,l.jsxs)("div",{className:g().toggle_wrapper,children:[(0,l.jsx)("div",{className:"cursor-pointer ",children:i?(0,l.jsx)(p.$K,{size:29,color:"#5774AC",onClick:()=>{o(!1),_(t)}}):(0,l.jsx)(p.HN,{color:"#E3E1DC",size:29,onClick:()=>{o(!0),_(t-c>0?t-c:0)}})}),(0,l.jsxs)("p",{className:g().total_txt,children:["Use Cityfurnish coins (Available balance:"," ",i?Math.abs(t-c):c,")"]})]}),(0,l.jsxs)("button",{className:g().btn,onClick:async()=>{await j((0,P.Et)(i)),await j((0,P.uT)(i?Math.abs(t-c):c)),b()},children:["Proceed and pay",(0,l.jsx)(p.tm,{className:g().proceed_icon})]})]})]})})},M=s(11619),R=()=>{let e;let[a,s]=(0,n.useState)(12),[t,c]=(0,n.useState)(!1),[i,o]=(0,n.useState)([]),[v,N]=(0,n.useState)(0),[w,Z]=(0,n.useState)(!1),[y,g]=(0,n.useState)(""),[f,D]=(0,n.useState)(),[I,F]=(0,n.useState)(!0),E=()=>{c(!t)},P=()=>{k.Z.get(S.v2+A.z.invoicesPage.getMyInvoices(85777,1)).then(e=>{var a,s,l,n,t;console.log(null==e?void 0:e.data,"responseee"),o(null==e?void 0:null===(s=e.data)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.my_invoice),N(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(l=n.my_wallet)||void 0===l?void 0:l.topup_amount),F(!1)}).catch(e=>{console.log(e),F(!1)})};(0,n.useEffect)(()=>{P()},[]);let R=(e=0,i.map(a=>e+=null==a?void 0:a.balance),e),z=e=>{let a=document.createElement("a");a.href=e,a.download="invoice.pdf",document.body.appendChild(a),a.click(),document.body.removeChild(a)},O=()=>{s(e=>e+10)};return(0,l.jsxs)("div",{className:r().main_container,children:[(0,l.jsx)("div",{className:r().doc_side_bar,style:{height:"initial"},children:(0,l.jsx)(d.default,{isOverviewSelected:!0})}),(0,l.jsxs)("div",{className:r().right_div,children:[(0,l.jsx)("h1",{className:r().header,children:"My Invoices"}),(0,l.jsx)("p",{className:" mt-6 xl:mt-8 ".concat(r().desc),children:'View and pay individual invoices or choose the convenience of "Pay All" to clear your entire outstanding balance at once.'}),(0,l.jsxs)("div",{className:r().past_payment_wrapper,children:[(0,l.jsxs)("p",{className:r().desc,children:[(0,l.jsx)("a",{href:"/payments",target:"_blank",children:(0,l.jsx)("span",{className:r().click_here,children:"Click here"})}),"to check your past payments"]}),(0,l.jsxs)("div",{className:r().amount_wrapper,children:[(0,l.jsxs)("p",{className:r().desc,children:["Total Amount Due: ",(0,l.jsx)("span",{className:r().rupeeIcon,children:"â‚¹"}),w?R-v>0?R-v:0:R]}),(0,l.jsx)("button",{disabled:0===R,onClick:()=>{g(R),D(null),E()},className:"".concat(0===R&&"!bg-[#FFDF85] !cursor-not-allowed"," ").concat(r().pay_all_btn),children:"Pay all"}),t&&(0,l.jsx)(H,{toggleDrawer:E,open:t,amountDue:y,availbal:v,isCoinApplied:w,setIsCoinApplied:e=>Z(e),invoiceNumber:f})]})]}),(0,l.jsx)("div",{className:r().web,children:(0,l.jsxs)(h.Z,{component:b.Z,className:r().tableContainer,children:[(0,l.jsxs)(m.Z,{className:r().table,children:[(0,l.jsx)(_.Z,{children:(0,l.jsxs)(j.Z,{className:r().tableRow,style:{verticalAlign:"baseline"},children:[(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Invoice Date"}),(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Invoice Number"}),(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Order Number"}),(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Invoice Amount"}),(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Amount Due"}),(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Status"}),(0,l.jsx)(x.Z,{className:r().tableHeaderCell,children:"Action"})]})}),I?(0,l.jsx)(M.Z,{}):(0,l.jsx)(u.Z,{children:i.slice(0,a).map((e,a)=>(0,l.jsxs)(j.Z,{className:"".concat(a===i.length-1&&"!border-b-0"," ").concat(r().tableRow),children:[(0,l.jsx)(x.Z,{className:"min-w-[116px] ".concat(r().tableCell),children:e.due_days}),(0,l.jsx)(x.Z,{className:r().tableCell,children:e.invoice_number}),(0,l.jsx)(x.Z,{className:r().tableCell,children:e.deal_code}),(0,l.jsx)(x.Z,{className:r().tableCell,children:e.total}),(0,l.jsx)(x.Z,{className:r().tableCell,children:e.balance}),(0,l.jsx)(x.Z,{className:"!font-medium ".concat("paid"===e.current_sub_status?"!text-[#67AF7B]":"!text-[#D96060]"," ").concat(r().tableCell),children:"paid"===e.current_sub_status?"Paid":"Payment Due"}),(0,l.jsxs)(x.Z,{className:"!flex gap-4 ".concat(r().tableCell),children:[(0,l.jsx)("button",{onClick:()=>z(e.invoice_url),className:r().download_btn,children:"Download"}),(0,l.jsx)("button",{disabled:"paid"===e.current_sub_status,onClick:()=>{g(e.balance),D(e.invoice_number),E()},className:"".concat("paid"===e.current_sub_status&&"!bg-[#FFDF85] !cursor-not-allowed"," ").concat(r().pay_btn),children:"Pay now"})]})]},a))})]}),a<i.length&&(0,l.jsxs)("button",{className:r().show_more_btn,onClick:O,children:["See More",(0,l.jsx)(p.wf,{className:r().down_arrow})]})]})}),(0,l.jsx)("div",{className:r().mobile,children:(0,l.jsx)(C,{rows:i,visibleRows:a,handleShowMore:O,setInvoiceNumber:e=>D(e),toggleDrawer:E,setAmountToPay:e=>g(e),handleDownload:e=>z(e)})})]})]})},z=s(3939),O=(0,s(79097).H)(()=>{let e=(0,E.I0)();return(0,n.useEffect)(()=>{e((0,P.NK)("My Invoices"))},[]),(0,l.jsxs)("div",{className:"large_layout",children:[(0,l.jsx)(t.Z,{}),(0,l.jsx)(c.Z,{}),(0,l.jsx)(i.Z,{}),(0,l.jsx)(R,{}),(0,l.jsx)(z.default,{})]})})},11619:function(e,a,s){"use strict";var l=s(9268);s(86006);var n=s(48525),t=s.n(n),c=s(13658),i=s(34274),o=s(86564),r=s(9238);a.Z=function(){return(0,l.jsx)(c.Z,{children:[1,2,3,4,5].map(e=>(0,l.jsxs)(o.Z,{className:t().tableRow,children:[(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})}),(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})}),(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})}),(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})}),(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})}),(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})}),(0,l.jsx)(i.Z,{className:"min-w-[116px] ".concat(t().tableCell),children:(0,l.jsx)(r.Z,{variant:"text"})})]},e))})}},12513:function(e){e.exports={main_container:"styles_main_container__Jcn_x",customDrawer:"styles_customDrawer__sIpEC",head:"styles_head__qpTmd",close_icon:"styles_close_icon__QiDyX",total_txt:"styles_total_txt__ZrGbl",input:"styles_input__XQDeE",toggle_wrapper:"styles_toggle_wrapper__iNsQc",btn:"styles_btn__ZnCJE",proceed_icon:"styles_proceed_icon__aRJj0"}}},function(e){e.O(0,[3791,3287,2775,5625,5639,6680,4947,3296,8121,372,9173,1524,8166,5852,6738,6877,6130,7557,261,8372,5846,7998,216,2329,3796,9253,2961,1744],function(){return e(e.s=75440)}),_N_E=e.O()}]);