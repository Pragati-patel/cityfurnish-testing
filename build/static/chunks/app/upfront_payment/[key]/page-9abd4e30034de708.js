(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6856],{13902:function(e,n,t){"use strict";var a=t(86006),r=t(46750),o=t(40431),s=t(70184),i=t(90300),l=t(10854),c=t(86979),u=t.n(c),d=a.createContext(),h={initialChunks:{}},p="PENDING",f="REJECTED",m=function(e){var n=function(n){return a.createElement(d.Consumer,null,function(t){return a.createElement(e,Object.assign({__chunkExtractor:t},n))})};return e.displayName&&(n.displayName=e.displayName+"WithChunkExtractor"),n},y=function(e){return e};function v(e){var n=e.defaultResolveComponent,t=void 0===n?y:n,c=e.render,d=e.onLoad;function v(e,n){void 0===n&&(n={});var y="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function _(e){return n.cacheKey?n.cacheKey(e):y.resolve?y.resolve(e):"static"}function g(e,a,r){var o=n.resolveComponent?n.resolveComponent(e,a):t(e);if(n.resolveComponent&&!(0,l.isValidElementType)(o))throw Error("resolveComponent returned something that is not a React component!");return u()(r,o,{preload:!0}),o}var x=function(e){var n=_(e),t=v[n];return t&&t.status!==f||((t=y.requireAsync(e)).status=p,v[n]=t,t.then(function(){t.status="RESOLVED"},function(n){console.error("loadable-components: failed to asynchronously load component",{fileName:y.resolve(e),chunkName:y.chunkName(e),error:n?n.message:n}),t.status=f})),t},N=m(function(e){function t(t){var a;return((a=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:_(t)},!function(e,n){if(!e){var t=Error("loadable: "+n);throw t.framesToPop=1,t.name="Invariant Violation",t}}(!t.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor)?(!1===n.ssr||(y.requireAsync(t).catch(function(){return null}),a.loadSync(),t.__chunkExtractor.addChunk(y.chunkName(t))),(0,s.Z)(a)):(!1!==n.ssr&&(y.isReady&&y.isReady(t)||y.chunkName&&h.initialChunks[y.chunkName(t)])&&a.loadSync(),a)}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,n){var t=_(e);return(0,o.Z)({},n,{cacheKey:t,loading:n.loading||n.cacheKey!==t})};var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===f&&this.setCache(),this.state.loading&&this.loadAsync()},a.componentDidUpdate=function(e,n){n.cacheKey!==this.state.cacheKey&&this.loadAsync()},a.componentWillUnmount=function(){this.mounted=!1},a.safeSetState=function(e,n){this.mounted&&this.setState(e,n)},a.getCacheKey=function(){return _(this.props)},a.getCache=function(){return v[this.getCacheKey()]},a.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},a.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},a.loadSync=function(){if(this.state.loading)try{var e=y.requireSync(this.props),n=g(e,this.props,k);this.state.result=n,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:y.resolve(this.props),chunkName:y.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},a.loadAsync=function(){var e=this,n=this.resolveAsync();return n.then(function(n){var t=g(n,e.props,k);e.safeSetState({result:t,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(n){return e.safeSetState({error:n,loading:!1})}),n},a.resolveAsync=function(){var e=this.props;return x((e.__chunkExtractor,e.forwardedRef,(0,r.Z)(e,["__chunkExtractor","forwardedRef"])))},a.render=function(){var e=this.props,t=e.forwardedRef,a=e.fallback,s=(e.__chunkExtractor,(0,r.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),i=this.state,l=i.error,u=i.loading,d=i.result;if(n.suspense&&(this.getCache()||this.loadAsync()).status===p)throw this.loadAsync();if(l)throw l;var h=a||n.fallback||null;return u?h:c({fallback:h,result:d,options:n,props:(0,o.Z)({},s,{ref:t})})},t}(a.Component)),k=a.forwardRef(function(e,n){return a.createElement(N,Object.assign({forwardedRef:n},e))});return k.displayName="Loadable",k.preload=function(e){k.load(e)},k.load=function(e){return x(e)},k}return{loadable:v,lazy:function(e,n){return v(e,(0,o.Z)({},n,{suspense:!0}))}}}var _=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var n=e.result,t=e.props;return a.createElement(n,t)}}),g=_.loadable,x=_.lazy,N=v({onLoad:function(e,n){e&&n.forwardedRef&&("function"==typeof n.forwardedRef?n.forwardedRef(e):n.forwardedRef.current=e)},render:function(e){var n=e.result,t=e.props;return t.children?t.children(n):null}}),k=N.loadable,w=N.lazy;g.lib=k,x.lib=w,n.ZP=g},82631:function(e,n,t){Promise.resolve().then(t.bind(t,88512))},88512:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var a=t(9268),r=t(86006),o=t(13902),s=t(3939),i=t(36945),l=t(64114),c=t(32558),u=t.n(c),d=t(21530),h=t(90490),p=t(8038),f=t(24214),m=t(56008),y=t(9238),v=t(37227),_=t(69354),g=t(37610),x=t(66628),N=t(81817),k=function(){let e=(0,m.useRouter)(),n=(0,x.I0)(),t=(0,m.useParams)(),o=t.key,[s,i]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),k=()=>{f.Z.post(h.v2+p.z.upfrontPayment,{id:o}).then(e=>{var n,t,a,r,o;console.log(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.data,"ressss in upfront"),i(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.data),c(null==e?void 0:null===(o=e.data)||void 0===o?void 0:o.data)}).catch(e=>console.log(e))};async function w(){let t=await (0,_.ve)("https://checkout.razorpay.com/v1/checkout.js");if(console.log(t," res in load script"),!t){alert("Razorpay SDK failed to load. Are you online?");return}let a=null==l?void 0:l.raz_order_id,r=null==l?void 0:l.customer_id;console.log(a,r,"huhwiuhij");let i={key:v.sV,order_id:a,name:"Cityfurnish",description:"Easy payment registration",image:"https://rentofurniture.com/images/logo/FaviconNew.png",handler:async function(t){if(t.error)alert("Payment failed. Please try again.");else{let a={razorpayPaymentId:t.razorpay_payment_id,dealCodeNumber:o,razorpayOrderId:t.razorpay_order_id,razCustomerId:r,razorpaySignature:t.razorpay_signature,id:null==l?void 0:l.data.recID,mode:"upfront_payment"},i=await f.Z.post(h.v2+p.z.addToCart.successPayment,a);console.log(i,"result"),n((0,g.h0)(t.razorpay_order_id)),n((0,g.eo)(t.razorpay_payment_id)),n((0,g.I6)(null==s?void 0:s.amount)),e.push("/success/payment")}},prefill:{name:null==l?void 0:l.data.name,email:null==l?void 0:l.data.email,contact:null==l?void 0:l.data.phone_no},theme:{color:v.Pz}};console.log(i,"optionss");let c=new window.Razorpay(i);c.on("payment.failed",function(e){console.log("Payment failed:",e),alert("Payment failed: "+e.error.description)}),c.open()}return(0,r.useEffect)(()=>{k()},[]),(0,a.jsxs)("div",{className:u().wrapper,children:[(0,a.jsx)("p",{className:u().main_heading,children:"Upfront Payment"}),(null==s?void 0:s.payment_status)===2?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.EQK,{color:"#FD6",className:"lg:mt-8 mt-6 lg:h-[64px] lg:w-[64px] w-[48px] h-[48px]"}),(0,a.jsx)("p",{className:"text-45454A  lg:text-24 text-20 font-Poppins font-medium tracking-[-0.48px] lg:my-8 my-6",children:"Looks like payment has already been made."})]}):(0,a.jsxs)("div",{className:u().upfront_data,children:[(0,a.jsxs)("p",{className:u().heading,children:["Your Order ID",s?(0,a.jsxs)("span",{className:u().heading_span,children:[": #",null==s?void 0:s.order_id]}):(0,a.jsx)(y.Z,{variant:"text",width:100,className:"ml-3"})]}),(0,a.jsxs)("p",{className:u().heading,children:["Tenure",s?(0,a.jsxs)("span",{className:u().heading_span,children:[": ",null==s?void 0:s.tenure]}):(0,a.jsx)(y.Z,{variant:"text",width:100,className:"ml-3"})]}),(0,a.jsxs)("p",{className:u().heading,children:["Upfront amount",s?(0,a.jsxs)("span",{className:u().heading_span,children:[" ",": ",(0,a.jsx)("span",{className:"font-Inter",children:"â‚¹"}),null==s?void 0:s.amount]}):(0,a.jsx)(y.Z,{variant:"text",width:100,className:"ml-3"})]})]}),(0,a.jsx)("div",{children:(null==s?void 0:s.payment_status)===2?(0,a.jsx)("button",{className:"".concat(u().pay_now_btn,' "!mt-0"'),children:(0,a.jsx)("a",{href:"/",children:"Return to home page"})}):(0,a.jsxs)("button",{className:"".concat(u().pay_now_btn," "),onClick:w,children:["Pay now",(0,a.jsx)(d.tm,{size:20,color:"#222222"})]})})]})},w=t(18160);let b=(0,o.ZP)(()=>Promise.resolve().then(t.bind(t,3939)),{fallback:(0,a.jsx)(s.FooterSkeleton,{})});var j=function(){return(0,a.jsxs)("div",{className:"large_layout",children:[(0,a.jsx)(w.Z,{}),(0,a.jsx)(i.Z,{}),(0,a.jsx)(l.Z,{}),(0,a.jsx)(k,{}),(0,a.jsx)(b,{})]})}},32558:function(e){e.exports={wrapper:"style_wrapper__KICM_",main_heading:"style_main_heading__26yVK",upfront_data:"style_upfront_data__9r_Cl",heading:"style_heading__YYK34",heading_span:"style_heading_span__ue01B",pay_now_btn:"style_pay_now_btn__QKy0t"}},70184:function(e,n,t){"use strict";function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return a}})}},function(e){e.O(0,[3791,3287,2775,5625,5639,6680,4947,3296,8121,372,9173,1524,8166,5852,6738,6877,6130,7557,261,8372,2329,5400,1053,3939,9253,2961,1744],function(){return e(e.s=82631)}),_N_E=e.O()}]);